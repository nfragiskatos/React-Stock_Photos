{"version":3,"sources":["Photo.js","App.js","index.js"],"names":["Photo","regular","urls","alt_description","likes","user","name","portfolio_url","medium","profile_image","className","src","alt","href","clientID","process","App","useState","loading","setLoading","photos","setPhotos","page","setPage","searchTerm","setSearchTerm","currentQuery","setCurrentQuery","fetchImages","a","urlPage","urlQuery","url","fetch","response","json","data","oldPhotos","results","console","log","useEffect","event","window","addEventListener","innerHeight","scrollY","document","body","scrollHeight","oldPage","removeEventListener","type","placeholder","value","onChange","e","target","trim","onClick","preventDefault","map","photo","key","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"6PAwBeA,EAtBD,SAAC,GAKR,IAJcC,EAIf,EAJLC,KAAoBD,QACpBE,EAGK,EAHLA,gBACAC,EAEK,EAFLA,MAEK,IADLC,KAAoBC,EACf,EADeA,KAAMC,EACrB,EADqBA,cAAgCC,EACrD,EADoCC,cAAiBD,OAE1D,OACC,6BAASE,UAAU,SAClB,yBAAKC,IAAKV,EAASW,IAAKT,IACxB,yBAAKO,UAAU,cACd,6BACC,4BAAKJ,GACL,2BAAIF,IAEL,uBAAGS,KAAMN,GACR,yBAAKI,IAAKH,EAAQI,IAAKN,EAAMI,UAAU,iBCbtCI,EAAQ,qBAAiBC,+CAoGhBC,MAhGf,WAAiB,IAAD,EACiBC,oBAAS,GAD1B,mBACPC,EADO,KACEC,EADF,OAEeF,mBAAS,IAFxB,mBAEPG,EAFO,KAECC,EAFD,OAGWJ,mBAAS,GAHpB,mBAGPK,EAHO,KAGDC,EAHC,OAIuBN,mBAAS,IAJhC,mBAIPO,EAJO,KAIKC,EAJL,OAK2BR,mBAAS,IALpC,mBAKPS,EALO,KAKOC,EALP,KAOTC,EAAW,uCAAG,oCAAAC,EAAA,6DACnBV,GAAW,GAELW,EAHa,gBAGMR,GACnBS,EAJa,iBAIQL,GAE1BM,EADGN,EACA,UAfS,2CAeT,OAAkBZ,GAAlB,OAA6BgB,GAA7B,OAAuCC,GAEvC,UAlBO,oCAkBP,OAAgBjB,GAAhB,OAA2BgB,GARZ,kBAYKG,MAAMD,GAZX,cAYZE,EAZY,iBAaCA,EAASC,OAbV,QAaZC,EAbY,OAclBf,GAAU,SAACgB,GACV,OAAIX,EACa,IAATJ,EAAac,EAAKE,QAAlB,sBAAiCD,GAAjC,YAA+CD,EAAKE,UAE5C,IAAThB,EAAac,EAAb,sBAAyBC,GAAzB,YAAuCD,OAE/CjB,GAAW,GApBO,kDAsBlBA,GAAW,GACXoB,QAAQC,IAAR,MAvBkB,0DAAH,qDA2DjB,OA3BAC,qBACC,WACCb,MAED,CAAEN,IAGHmB,qBACC,WACc,IAATnB,EACHM,IAEAL,EAAQ,KAGV,CAAEG,IAGHe,qBAAU,WACT,IAAMC,EAAQC,OAAOC,iBAAiB,UAAU,YAC1C1B,GAAWyB,OAAOE,YAAcF,OAAOG,SAAWC,SAASC,KAAKC,aAAe,GACnF1B,GAAQ,SAAC2B,GAAD,OAAaA,EAAU,QAGjC,OAAO,kBAAMP,OAAOQ,oBAAoB,SAAUT,MAChD,IAGF,8BACC,6BAAShC,UAAU,UAClB,0BAAMA,UAAU,eACf,2BACC0C,KAAK,OACLC,YAAY,SACZ3C,UAAU,aACV4C,MAAO9B,EACP+B,SAAU,SAACC,GACV/B,EAAc+B,EAAEC,OAAOH,MAAMI,WAG/B,4BAAQN,KAAK,SAAS1C,UAAU,aAAaiD,QA7C5B,SAACH,GACrBA,EAAEI,iBACFjC,EAAgBH,KA4CZ,kBAAC,IAAD,SAIH,6BAASd,UAAU,UAClB,yBAAKA,UAAU,iBACbU,EAAOyC,KAAI,SAACC,GACZ,OAAO,kBAAC,EAAD,eAAOC,IAAKD,EAAME,IAAQF,QAGlC5C,GAAW,wBAAIR,UAAU,WAAd,iBC7FhBuD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFpB,SAASqB,eAAe,W","file":"static/js/main.89b2b820.chunk.js","sourcesContent":["import React from 'react';\n\nconst Photo = ({\n\turls            : { regular },\n\talt_description,\n\tlikes,\n\tuser            : { name, portfolio_url, profile_image: { medium } }\n}) => {\n\treturn (\n\t\t<article className='photo'>\n\t\t\t<img src={regular} alt={alt_description} />\n\t\t\t<div className='photo-info'>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>{name}</h4>\n\t\t\t\t\t<p>{likes}</p>\n\t\t\t\t</div>\n\t\t\t\t<a href={portfolio_url}>\n\t\t\t\t\t<img src={medium} alt={name} className='user-img' />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n\nexport default Photo;\n","import React, { useState, useEffect } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport Photo from './Photo';\n//\nconst clientID = `?client_id=${process.env.REACT_APP_ACCESS_KEY}`;\nconst mainUrl = `https://api.unsplash.com/photos/`;\nconst searchUrl = `https://api.unsplash.com/search/photos/`;\n\nfunction App () {\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ photos, setPhotos ] = useState([]);\n\tconst [ page, setPage ] = useState(1);\n\tconst [ searchTerm, setSearchTerm ] = useState('');\n\tconst [ currentQuery, setCurrentQuery ] = useState('');\n\n\tconst fetchImages = async () => {\n\t\tsetLoading(true);\n\t\tlet url;\n\t\tconst urlPage = `&page=${page}`;\n\t\tconst urlQuery = `&query=${currentQuery}`;\n\t\tif (currentQuery) {\n\t\t\turl = `${searchUrl}${clientID}${urlPage}${urlQuery}`;\n\t\t} else {\n\t\t\turl = `${mainUrl}${clientID}${urlPage}`;\n\t\t}\n\n\t\ttry {\n\t\t\tconst response = await fetch(url);\n\t\t\tconst data = await response.json();\n\t\t\tsetPhotos((oldPhotos) => {\n\t\t\t\tif (currentQuery) {\n\t\t\t\t\treturn page === 1 ? data.results : [ ...oldPhotos, ...data.results ];\n\t\t\t\t}\n\t\t\t\treturn page === 1 ? data : [ ...oldPhotos, ...data ];\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tsetCurrentQuery(searchTerm);\n\t};\n\n\tuseEffect(\n\t\t() => {\n\t\t\tfetchImages();\n\t\t},\n\t\t[ page ]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (page === 1) {\n\t\t\t\tfetchImages();\n\t\t\t} else {\n\t\t\t\tsetPage(1);\n\t\t\t}\n\t\t},\n\t\t[ currentQuery ]\n\t);\n\n\tuseEffect(() => {\n\t\tconst event = window.addEventListener('scroll', () => {\n\t\t\tif (!loading && window.innerHeight + window.scrollY >= document.body.scrollHeight - 2) {\n\t\t\t\tsetPage((oldPage) => oldPage + 1);\n\t\t\t}\n\t\t});\n\t\treturn () => window.removeEventListener('scroll', event);\n\t}, []);\n\n\treturn (\n\t\t<main>\n\t\t\t<section className='search'>\n\t\t\t\t<form className='search-form'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='search'\n\t\t\t\t\t\tclassName='form-input'\n\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetSearchTerm(e.target.value.trim());\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<button type='submit' className='submit-btn' onClick={handleSubmit}>\n\t\t\t\t\t\t<FaSearch />\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t<section className='photos'>\n\t\t\t\t<div className='photos-center'>\n\t\t\t\t\t{photos.map((photo) => {\n\t\t\t\t\t\treturn <Photo key={photo.id} {...photo} />;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t{loading && <h2 className='loading'>Loading...</h2>}\n\t\t\t</section>\n\t\t</main>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}